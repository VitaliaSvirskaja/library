const L=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function c(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=c(n);fetch(n.href,o)}};L();function q(){const t=p();y(t),h(t.length),S(t),v(t)}q();const l=document.querySelector("dialog"),d=document.querySelector("#createBook"),f=document.querySelector("#clearFields");function g(t){let e=document.getElementById("overlay");e!==null&&(e.style.display=t)}function i(t){let e=document.getElementById(t);e!==null&&(e.value="")}function k(){i("titleInput"),i("authorInput"),i("pagesInput"),i("statusInput")}d==null||d.addEventListener("click",()=>{k(),l==null||l.setAttribute("open",""),r==null||r.classList.add("blur"),B()});const r=document.querySelector("#overlay");r==null||r.addEventListener("click",()=>{l==null||l.removeAttribute("open"),r==null||r.classList.remove("blur"),m()});const a=document.querySelector("form");a==null||a.addEventListener("submit",()=>{const t=new FormData(a),e={title:t.get("title"),author:t.get("author"),numberOfPages:parseInt(t.get("pages")),status:t.get("status")};C(e),r==null||r.classList.remove("blur"),m()});f==null||f.addEventListener("click",t=>{k(),t.preventDefault()});function B(){g("block")}function m(){g("none")}function y(t){const e=document.querySelector("#content");e.innerHTML="";const c=document.querySelector("#book-template");t.forEach((s,n)=>{const o=document.createElement("div");o.appendChild(c.content.cloneNode(!0)),o.querySelector(".title").textContent="Title: "+s.title,o.querySelector(".author").textContent="Author: "+s.author,o.querySelector(".pages").textContent="Number of pages: "+s.numberOfPages.toString(),o.querySelector(".status").textContent="Status: "+s.status,e==null||e.appendChild(o);const u=o.querySelector(".deleteBook");u==null||u.addEventListener("click",()=>{N(n)})})}function b(t){const e=JSON.stringify(t);localStorage.setItem("books",e)}function p(){const t=localStorage.getItem("books");return t===null?[]:JSON.parse(t)}function C(t){const e=p();e.push(t),b(e),y(e),h(e.length),S(e),v(e)}function h(t){const e=document.querySelector("#bookCount");e.innerHTML="Total books count: "+t}function S(t){const e=document.querySelector("#booksReadCount"),c=t.filter(s=>s.status==="read");e.innerHTML="Read: "+c.length}function v(t){const e=document.querySelector("#booksNotReadCount"),c=t.filter(s=>s.status==="not-read");e.innerHTML="Not read: "+c.length}function N(t){const e=p();e.splice(t,1),b(e),y(e)}
