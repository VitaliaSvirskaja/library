const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}};S();function b(){const e=h();m(e),v(e.length)}b();const u=document.querySelector("dialog"),d=document.querySelector("#createBook"),f=document.querySelector("#clearFields");function p(e){let t=document.getElementById("overlay");t!==null&&(t.style.display=e)}function l(e){let t=document.getElementById(e);t!==null&&(t.value="")}function y(){l("titleInput"),l("authorInput"),l("pagesInput"),l("statusInput")}d==null||d.addEventListener("click",()=>{y(),u==null||u.setAttribute("open",""),n==null||n.classList.add("blur"),k()});const n=document.querySelector("#overlay");n==null||n.addEventListener("click",()=>{u==null||u.removeAttribute("open"),n==null||n.classList.remove("blur"),g()});const c=document.querySelector("form");c==null||c.addEventListener("submit",()=>{const e=new FormData(c),t={title:e.get("title"),author:e.get("author"),numberOfPages:parseInt(e.get("pages")),status:e.get("status")};q(t),n==null||n.classList.remove("blur"),g()});f==null||f.addEventListener("click",e=>{y(),e.preventDefault()});function k(){p("block")}function g(){p("none")}function m(e){const t=document.querySelector("#content");t.innerHTML="";const i=document.querySelector("#book-template");e.forEach(s=>{const o=document.createElement("div");o.appendChild(i.content.cloneNode(!0)),o.querySelector(".title").textContent="Title: "+s.title,o.querySelector(".author").textContent="Author: "+s.author,o.querySelector(".pages").textContent="Number of pages: "+s.numberOfPages.toString(),o.querySelector(".status").textContent="Status: "+s.status,t==null||t.appendChild(o)})}function L(e){const t=JSON.stringify(e);localStorage.setItem("books",t)}function h(){const e=localStorage.getItem("books");return e===null?[]:JSON.parse(e)}function q(e){const t=h();t.push(e),L(t),m(t),v(t.length)}function v(e){const t=document.querySelector("#bookCount");t.innerHTML="Total books count: "+e}
